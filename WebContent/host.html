<html lang="en">
<head>
<title>Airbnb</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<link href="css/bootstrap.css" rel="stylesheet" type="text/css"
	media="all" />

<!-- css -->
<link rel="stylesheet" href="css/style.css" type="text/css" media="all" />
<!--// css -->

<!-- font-awesome icons -->
<link href="css/font-awesome.css" rel="stylesheet">
<!-- //font-awesome icons -->

<!-- font -->
<link
	href="//fonts.googleapis.com/css?family=Crimson+Text:400,400i,600,600i,700,700i"
	rel="stylesheet">
<link
	href="//fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i"
	rel="stylesheet">
<link
	href='//fonts.googleapis.com/css?family=Roboto+Condensed:400,700italic,700,400italic,300italic,300'
	rel='stylesheet' type='text/css'>
<!-- //font -->

<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/bootstrap.js"></script>
<body>
	<!-- banner -->
	<div id="top" class="banner">
		<div class="header">
			<div class="container">
				<div class="header-left">
					<div class="w3layouts-logo">
						<h1>
							<a href="index.jsp"><span>re </span> AIRBNB</a>
						</h1>
					</div>
				</div>
				<div class="header-right">
					<div class="w3-header-bottom">
						<div class="top-nav">
							<nav class="navbar navbar-default">
								<div class="navbar-header">
									<button type="button" class="navbar-toggle collapsed"
										data-toggle="collapse"
										data-target="#bs-example-navbar-collapse-1">
										<span class="sr-only">Toggle navigation</span> <span
											class="icon-bar"></span> <span class="icon-bar"></span> <span
											class="icon-bar"></span>
									</button>
								</div>
								<!-- Collect the nav links, forms, and other content for toggling -->
								<div class="collapse navbar-collapse"
									id="bs-example-navbar-collapse-1">
									<ul class="nav navbar-nav">
										<div id="myOverlay" class="overlay">
											<span class="closebtn" onclick="closeSearch()"
												title="Close Overlay">Ã—</span>
											<div class="overlay-content">
												<input type="text" id="search" name="search">
												<button type="button" onclick="search();">Search</button>
											</div>
										</div>
										<li><a id="openBtn" class="active"
											onclick="openSearch();">Search</a></li>

										<li><a href="host.html">Host</a></li>
										<li><a href="explore.html" onclick="explore(this);"
											rel="explore.html">Explore</a></li>
										<li><a href="login.html">Login</a></li>
										<li><a href="register.html">Register</a></li>
										<li><a href="profile.jsp">Profile</a></li>
									</ul>
									<div class="clearfix"></div>
								</div>
							</nav>
						</div>
						<div class="clearfix"></div>
					</div>
				</div>
				<div class="clearfix"></div>
			</div>
		</div>
		<div class="w3layouts-banner-slider">
			<div class="container">
				<div class="slider">
					<div class="callbacks_container">
						<table id="search-table"></table>
						<div class="inputPost">
							<table>
								<tr>
									<td><input type="text" name="title" id="title"
										placeholder="Title"></td>
								</tr>
								<tr>
									<td><textarea name="description" id="description"
											placeholder="description"></textarea></td>
								</tr>

								<tr>
									<td><input type="number" name="price" id="price"
										placeholder="Price"></td>
								</tr>

								<tr>
									<td><select name="type" id="type">
											<option id="opt1" value="Hotel">Hotel</option>
											<option id="opt2" value="Hotel">Apartment</option>
											<option id="opt3" value="Hotel">House</option>
											<option id="opt4" value="Hotel">Cottage</option>
									</select></td>
								</tr>
								<tr>
									<td>
										<button type="button" onclick="upload();">Upload</button>
									</td>
								</tr>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>
		var req = new XMLHttpRequest();
		function openSearch() {
			document.getElementById("myOverlay").style.display = "block";
		}

		function closeSearch() {
			document.getElementById("myOverlay").style.display = "none";
		}
		function search() {
			//true means - async requests
			req.open("Get", "search?search="
					+ document.getElementById("search").value, true);
			req.onreadystatechange = proccesSearch;
			req.send(null);
		}
		function proccesSearch() {
			if (req.readyState == 4 && req.status == 200
					&& req.responseText != "[]") {
				closeSearch();
				var jsonSearch = eval('(' + req.responseText + ')');
				document.getElementById("top").className = "n";
				var table = document.getElementById("search-table");
				table.innerHTML = "";
				var headRow = table.insertRow(0);
				var headCell = headRow.insertCell(0);
				var results = jsonSearch;
				var i = 0;
				while (i < results.length) {
					row = table.insertRow(i + 1);
					cell = row.insertCell(0);
					cell.innerHTML = results[i++].title;
				}
			}

		}
		function upload() {
			
			req.open("Post", "upload");
			req.onreadystatechange = proccessUpload;
			req.send("title=" + document.getElementById("title").value

			+ "&description=" + document.getElementById("description").value
					+ "&price=" + document.getElementById("price").value
					+ "&type=" + document.getElementById("type").value);
		}
	</script>

</body>
</html>
